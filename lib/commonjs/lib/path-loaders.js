import { None, Some } from "./core/option";
import { Ok } from "./core/result";
class PathLoaders {
    #json;
    #type;
    #validator;
    #mapper;
    constructor(json, type, validator, mapper) {
        this.#json = json;
        this.#type = type;
        this.#validator = validator;
        this.#mapper = mapper;
    }
    load({ name, url, path, type, }) {
        if (type === this.#type) {
            return this.#json
                .load(path, Some(this.#validator))
                .map((data) => Some(this.#mapper.map(name, url, data)));
        }
        return Ok(None());
    }
}
export { PathLoaders };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGF0aC1sb2FkZXJzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2xpYi9wYXRoLWxvYWRlcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0EsT0FBTyxFQUFFLElBQUksRUFBVSxJQUFJLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDbkQsT0FBTyxFQUFFLEVBQUUsRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUszQyxNQUFNLFdBQVc7SUFDTixLQUFLLENBQVM7SUFDZCxLQUFLLENBQVU7SUFDZixVQUFVLENBQWU7SUFDekIsT0FBTyxDQUFrQjtJQUVsQyxZQUNFLElBQVksRUFDWixJQUFhLEVBQ2IsU0FBdUIsRUFDdkIsTUFBdUI7UUFFdkIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7UUFDbEIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7UUFDbEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7UUFDNUIsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7SUFDeEIsQ0FBQztJQUVELElBQUksQ0FBQyxFQUNILElBQUksRUFDSixHQUFHLEVBQ0gsSUFBSSxFQUNKLElBQUksR0FDVTtRQUNkLElBQUksSUFBSSxLQUFLLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDdkIsT0FBTyxJQUFJLENBQUMsS0FBSztpQkFDZCxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7aUJBQ2pDLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzNEO1FBQ0QsT0FBTyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUNwQixDQUFDO0NBQ0Y7QUFFRCxPQUFPLEVBQUUsV0FBVyxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMb2FkZXIgfSBmcm9tIFwiLi9pbnRlcmZhY2UvbG9hZGVyXCI7XG5pbXBvcnQgeyBDb25maWdFbGVtZW50LCBMb2FkZXJzIH0gZnJvbSBcIi4vaW5wdXRcIjtcbmltcG9ydCB7IE91dHB1dCB9IGZyb20gXCIuL291dHB1dFwiO1xuaW1wb3J0IHsgTm9uZSwgT3B0aW9uLCBTb21lIH0gZnJvbSBcIi4vY29yZS9vcHRpb25cIjtcbmltcG9ydCB7IE9rLCBSZXN1bHQgfSBmcm9tIFwiLi9jb3JlL3Jlc3VsdFwiO1xuaW1wb3J0IHsgU291cmNlIH0gZnJvbSBcIi4vaW50ZXJmYWNlL2ZpbGUtbG9hZGVyXCI7XG5pbXBvcnQgeyBWYWxpZGF0b3IgfSBmcm9tIFwiLi9pbnRlcmZhY2UvdmFsaWRhdG9yXCI7XG5pbXBvcnQgeyBTb3VyY2VNYXBwZXIgfSBmcm9tIFwiLi9pbnRlcmZhY2Uvc291cmNlLW1hcHBlclwiO1xuXG5jbGFzcyBQYXRoTG9hZGVyczxUPiBpbXBsZW1lbnRzIExvYWRlciB7XG4gIHJlYWRvbmx5ICNqc29uOiBTb3VyY2U7XG4gIHJlYWRvbmx5ICN0eXBlOiBMb2FkZXJzO1xuICByZWFkb25seSAjdmFsaWRhdG9yOiBWYWxpZGF0b3I8VD47XG4gIHJlYWRvbmx5ICNtYXBwZXI6IFNvdXJjZU1hcHBlcjxUPjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBqc29uOiBTb3VyY2UsXG4gICAgdHlwZTogTG9hZGVycyxcbiAgICB2YWxpZGF0b3I6IFZhbGlkYXRvcjxUPixcbiAgICBtYXBwZXI6IFNvdXJjZU1hcHBlcjxUPlxuICApIHtcbiAgICB0aGlzLiNqc29uID0ganNvbjtcbiAgICB0aGlzLiN0eXBlID0gdHlwZTtcbiAgICB0aGlzLiN2YWxpZGF0b3IgPSB2YWxpZGF0b3I7XG4gICAgdGhpcy4jbWFwcGVyID0gbWFwcGVyO1xuICB9XG5cbiAgbG9hZCh7XG4gICAgbmFtZSxcbiAgICB1cmwsXG4gICAgcGF0aCxcbiAgICB0eXBlLFxuICB9OiBDb25maWdFbGVtZW50KTogUmVzdWx0PE9wdGlvbjxPdXRwdXQ+LCBFcnJvcj4ge1xuICAgIGlmICh0eXBlID09PSB0aGlzLiN0eXBlKSB7XG4gICAgICByZXR1cm4gdGhpcy4janNvblxuICAgICAgICAubG9hZChwYXRoLCBTb21lKHRoaXMuI3ZhbGlkYXRvcikpXG4gICAgICAgIC5tYXAoKGRhdGEpID0+IFNvbWUodGhpcy4jbWFwcGVyLm1hcChuYW1lLCB1cmwsIGRhdGEpKSk7XG4gICAgfVxuICAgIHJldHVybiBPayhOb25lKCkpO1xuICB9XG59XG5cbmV4cG9ydCB7IFBhdGhMb2FkZXJzIH07XG4iXX0=